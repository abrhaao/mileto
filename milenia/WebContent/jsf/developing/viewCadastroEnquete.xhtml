<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

<ui:composition template="/jsf/common/commonLayout.xhtml">

	<ui:define name="templateContent">

		<f:event type="preRenderView" listener="#{autenticarBean.check}" />

		<rich:panel styleClass="messages">
			<h:messages />
		</rich:panel>

		<h2>Cadastro da Enquete</h2>
		<h3>
			<h:outputText value="#{cadastrarUsuarioBean.usuario.nome}" />
		</h3>

		<h:panelGrid styleClass="gridTabless" width="#{img.widthGrid}">

			<h:form id="muodossaControlPanel">

				<h:panelGrid columns="3" style="height: #{alturaCadastrum}"
					rowClasses="cadastrumCells">

					<h:column>
						<h:panelGrid styleClass="cadastrum" columns="2"
							columnClasses="golden_2 tabelaColunas, golden_1"
							style="width: 300px">

							<h:column>Codigo:</h:column>
							<h:column>
								<h:outputText value="#{cadastrarEnqueteBean.enquete.id}"
									rendered="#{cadastrarUsuarioBean.usuario.id > 0}" />
							</h:column>
							<h:column>Descrição da Enquete:</h:column>
							<h:column>
								<h:inputText required="true"
									value="#{cadastrarEnqueteBean.enquete.nome}" label="Nome"
									size="60" />
							</h:column>

							<h:column>
								<h:graphicImage width="100" url="#{skin.layoutBlank}" />
							</h:column>
							<h:column>
								<h:graphicImage width="200" url="#{skin.layoutBlank}" />
							</h:column>

						</h:panelGrid>
					</h:column>

					<h:column>
						<h:graphicImage width="100" url="#{skin.layoutBlank}" />
					</h:column>

				</h:panelGrid>

				<h:panelGrid styleClass="gridTabless" width="#{img.widthGrid}" id="dataSetListaOpcoes">
					<rich:dataTable var="opcao"
						value="#{cadastrarEnqueteBean.enquete.opcoes}" cellspacing="1"
						cellpadding="0" styleClass="cadastrumListagem"
						rowClasses="golden1,golden2" headerClass="gridCaixa"
						binding="#{tabelarBean.dataTableListaOpcoesEnquete}">
						<rich:column>
							<h:inputText value="#{opcao.idOpcao}" size="4" maxlength="3"/>
							<f:facet name="header">Id. Opção Enquete</f:facet>
							<f:facet name="footer">
								<h:graphicImage width="20" url="#{skin.layoutBlank}" />
							</f:facet>
						</rich:column>
						<rich:column>
							<h:inputText value="#{opcao.descricao}" size="60" maxlength="60"/>
							<f:facet name="header">Descrição</f:facet>							
							<f:facet name="footer">
								<h:graphicImage width="180" url="#{skin.layoutBlank}" />
							</f:facet>
						</rich:column>
					</rich:dataTable>					
					<a4j:commandLink render="dataSetListaOpcoes" action="#{cadastrarEnqueteBean.adicionaOpcao}" class="botao2" value="Adicionar Opção" />
				</h:panelGrid>


				<rich:column>
					<h:graphicImage url="#{enquete.iconStatus}" />
					<f:facet name="footer">
						<h:graphicImage width="20" url="#{skin.layoutBlank}" />
					</f:facet>
				</rich:column>

				<rich:panel style="heigth: 148px">
					<h:commandLink value="Salvar"
						action="#{cadastrarEnqueteBean.atualizaEnquete}"
						styleClass="botao2" />
					
				</rich:panel>

			</h:form>

		</h:panelGrid>

	</ui:define>

</ui:composition>

</html>